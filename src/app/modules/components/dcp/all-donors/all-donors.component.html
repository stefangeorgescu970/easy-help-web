<h2>Donors in {{ currentDCP.county }}</h2>


<form [formGroup]="filterForm" class="mt-4">

  <div class="form-group col-lg-4">
    <label>Filter By</label>
    <select class="form-control" formControlName="filterType">
      <option selected hidden value="">Please select a filter</option>
      <option *ngFor="let filter of filterOptions" value="{{ filter }}">{{ filter }}</option>
    </select>
  </div>

  <div class="form-group col-lg-4"  *ngIf="filterForm.controls['filterType'].value"  >
    <label>{{filterForm.controls['filterType'].value}}</label>
    <select class="form-control" formControlName="filterValue">
      <option selected hidden value="">Please select a {{filterForm.controls['filterType'].value}}</option>
      <option *ngFor="let filterValue of getFiltersValues(filterForm.controls['filterType'].value)" value="{{ filterValue }}">{{ enumToOption(filterValue) }}</option>
    </select>
  </div>

</form>

<table class="table table-hover" *ngIf="donors && donors.length > 0; else no_donors">
        <thead>
          <tr>
            <th scope="col" class="th-name">First Name</th>
            <th scope="col" class="th-name">Last Name</th>
            <th scope="col" class="th-name">Date of Birth</th>
            <th scope="col" class="th-long">Email</th>
            <th scope="col" class="th-lat">RH</th>
            <th scope="col" class="th-lat">Blood Group</th>
            <th scope="col" class="th-lat">Can Donate</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let donor of donors ; let i = index" data-="donor.id">
            <td class="td-name">{{ donor.firstName }}</td>
            <td class="td-name">{{ donor.lastName }}</td>
            <td class="td-name">{{ donor.dateOfBirth }}</td>
            <td class="td-long">
                    <a href="mailto:  {{ donor.email }}">  {{ donor.email }}</a>
              </td>
            <td class="td-lat">{{ donor.rh }}</td>
            <td class="td-lat">{{ donor.group }}</td>
            <td class="td-lat">{{ donor.canDonate }}</td>
          </tr>
        </tbody>
      </table>
      <ng-template #no_donors>
        <h5>No donors account in this county.</h5>
      </ng-template>
      